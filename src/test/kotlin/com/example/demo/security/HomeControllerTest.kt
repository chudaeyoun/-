package com.example.demo.securityimport org.junit.jupiter.api.Testimport org.springframework.beans.factory.annotation.Autowiredimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestimport org.springframework.security.test.context.support.WithMockUserimport org.springframework.test.web.servlet.MockMvcimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders.getimport org.springframework.test.web.servlet.result.MockMvcResultMatchers.statusimport org.springframework.test.web.servlet.result.MockMvcResultMatchers.view@WebMvcTest(HomeController::class)internal class HomeControllerTest {    @Autowired    private lateinit var mockMvc: MockMvc    @Test    @WithMockUser    fun hello() {        mockMvc.perform(get("/security/hello"))            .andExpect(status().isOk)            .andExpect(view().name("hello"))    }    @Test    fun hello_without_user() {        mockMvc.perform(get("/security/hello"))            .andExpect(status().isUnauthorized)    }    @Test    @WithMockUser    fun my() {        mockMvc.perform(get("/security/my"))            .andExpect(status().isOk)            .andExpect(view().name("my"))    }}